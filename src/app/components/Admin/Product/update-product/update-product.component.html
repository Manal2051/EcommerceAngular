<p>update-product works!</p>

<!-- Debug Information (Remove in production) -->
<div class="alert alert-info" *ngIf="!isLoading">
  <h5>Debug Info:</h5>
  <p><strong>Product ID:</strong> {{ productId }}</p>
  <p><strong>Product Name:</strong> {{ product.name }}</p>
  <p><strong>Product Price:</strong> {{ product.price }}</p>
  <p><strong>Product Stock:</strong> {{ product.stockAmount }}</p>
  <p><strong>Category ID:</strong> {{ product.categoryId }}</p>
  <p><strong>Brand ID:</strong> {{ product.brandId }}</p>
  <button class="btn btn-sm btn-info" (click)="debugProduct()">Log Product to Console</button>
</div>

<div class="container" *ngIf="!isLoading">
  <div class="row justify-content-center">
    <div class="col-lg-11">
      <div class="card shadow">
        <div class="card-body">
          <h3 class="card-title mb-4 text-warning fw-bold">Edit Product</h3>
          
          <form (ngSubmit)="updateProduct()">
            <!-- Product Name -->
            <div class="mb-3">
              <label class="form-label">Product Name *</label>
              <input type="text" 
                     class="form-control" 
                     [(ngModel)]="product.name" 
                     name="name" 
                     required>
              <small class="text-muted">Current value: {{ product.name }}</small>
            </div>

            <!-- Price -->
            <div class="mb-3">
              <label class="form-label">Price *</label>
              <input type="number" 
                     class="form-control" 
                     [(ngModel)]="product.price" 
                     name="price" 
                     step="0.01" 
                     required>
              <small class="text-muted">Current value: {{ product.price }}</small>
            </div>

            <!-- Stock Amount -->
            <div class="mb-3">
              <label class="form-label">Stock Quantity *</label>
              <input type="number" 
                     class="form-control" 
                     [(ngModel)]="product.stockAmount" 
                     name="stockAmount" 
                     required>
              <small class="text-muted">Current value: {{ product.stockAmount }}</small>
            </div>

            <!-- Discount Percentage -->
            <div class="mb-3">
              <label class="form-label">Discount Percentage</label>
              <input type="number" 
                     class="form-control" 
                     [(ngModel)]="product.discountPercentage" 
                     name="discountPercentage" 
                     min="0" 
                     max="100">
              <small class="text-muted">Current value: {{ product.discountPercentage }}</small>
            </div>

            <!-- Category -->
            <div class="mb-3">
              <label class="form-label">Category *</label>
              <select class="form-select" 
                      [(ngModel)]="product.categoryId" 
                      name="categoryId" 
                      required>
                <option value="">Select Category</option>
                <option *ngFor="let category of categories" 
                        [value]="category.id">
                  {{ category.name }}
                </option>
              </select>
              <small class="text-muted">Current Category ID: {{ product.categoryId }}, Categories loaded: {{ categories.length }}</small>
            </div>

            <!-- Brand -->
            <div class="mb-3">
              <label class="form-label">Brand *</label>
              <select class="form-select" 
                      [(ngModel)]="product.brandId" 
                      name="brandId" 
                      required>
                <option value="">Select Brand</option>
                <option *ngFor="let brand of brands" 
                        [value]="brand.id">
                  {{ brand.name }}
                </option>
              </select>
              <small class="text-muted">Current Brand ID: {{ product.brandId }}, Brands loaded: {{ brands.length }}</small>
            </div>

            <!-- Description -->
            <div class="mb-3">
              <label class="form-label">Description *</label>
              <textarea class="form-control" 
                        [(ngModel)]="product.description" 
                        name="description" 
                        rows="4"
                        placeholder="Enter product description..." 
                        required></textarea>
              <small class="text-muted">Current value: {{ product.description }}</small>
            </div>

            <div class="d-flex justify-content-between">

              <button type="submit" 
                      class="btn text-light" 
                      style="background-color: #2a2185">
                Update Product
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Loading Spinner -->
<div class="container" *ngIf="isLoading">
  <div class="row justify-content-center">
    <div class="col-12 text-center">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <p class="mt-2">Loading product data...</p>
    </div>
  </div>
</div>
